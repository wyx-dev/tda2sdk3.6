#!/bin/sh

#IMX290 configuration taken from BSP,
# it enables 2 MP sensors

echo "Configuring IMX290 Sensors"

echo "Configuration in progress for CAM1... "
msleep 200; i2cset -f -y 0 0x21 0xf7 0x4b
msleep 200; i2cset -f -y 0 0x50 0x00 0x00
msleep 200; i2cset -f -y 1 0x26 0xfb 0xff
msleep 200; i2cset -f -y 1 0x27 0x00 0x00
msleep 200; i2cset -f -y 1 0x27 0x0c 0x00
msleep 200; i2cset -f -y 1 0x27 0x12 0x63
msleep 200; i2cset -f -y 1 0x27 0x12 0xeb
msleep 200; i2cset -f -y 1 0x60 0x01 0x04
msleep 200; i2cset -f -y 1 0x60 0x03 0xec
msleep 200; i2cset -f -y 1 0x60 0x06 0xb0
msleep 200; i2cset -f -y 1 0x60 0x08 0x60
msleep 200; i2cset -f -y 1 0x60 0x07 0xe8
msleep 200; i2cset -f -y 1 0x60 0x10 0x70
msleep 200; i2cset -f -y 1 0x60 0x11 0x82
msleep 200; i2cset -f -y 1 0x60 0x12 0x82
msleep 200; i2cset -f -y 1 0x74 0x01 0x33
msleep 200; i2cset -f -y 1 0x74 0x03 0xc5
msleep 200; i2cset -f -y 1 0x74 0x0d 0x55
msleep 200; i2cset -f -y 1 0x74 0x11 0x82
msleep 200; i2cset -f -y 1 0x74 0x12 0x82

echo "Configuration in progress for CAM2... "
msleep 200; i2cset -f -y 1 0x26 0xfb 0xff
msleep 200; i2cset -f -y 1 0x27 0x01 0x00
msleep 200; i2cset -f -y 1 0x27 0x0d 0x00
msleep 200; i2cset -f -y 1 0x27 0x13 0x63
msleep 200; i2cset -f -y 1 0x27 0x13 0xeb
msleep 200; i2cset -f -y 1 0x64 0x01 0x04
msleep 200; i2cset -f -y 1 0x64 0x03 0xec
msleep 200; i2cset -f -y 1 0x64 0x06 0xb0
msleep 200; i2cset -f -y 1 0x64 0x08 0x60
msleep 200; i2cset -f -y 1 0x64 0x07 0xea
msleep 200; i2cset -f -y 1 0x64 0x10 0x72
msleep 200; i2cset -f -y 1 0x64 0x11 0x82
msleep 200; i2cset -f -y 1 0x64 0x12 0x82
msleep 200; i2cset -f -y 1 0x75 0x01 0x33
msleep 200; i2cset -f -y 1 0x75 0x03 0xc5
msleep 200; i2cset -f -y 1 0x75 0x0d 0x55
msleep 200; i2cset -f -y 1 0x75 0x11 0x82
msleep 200; i2cset -f -y 1 0x75 0x12 0x82

echo "Configuration in progress for CAM3... "
msleep 200; i2cset -f -y 1 0x26 0xfb 0xff
msleep 200; i2cset -f -y 1 0x21 0x00 0x00
msleep 200; i2cset -f -y 1 0x21 0x0c 0x00
msleep 200; i2cset -f -y 1 0x21 0x12 0x63
msleep 200; i2cset -f -y 1 0x21 0x12 0xeb
msleep 200; i2cset -f -y 1 0x68 0x01 0x04
msleep 200; i2cset -f -y 1 0x68 0x03 0xec
msleep 200; i2cset -f -y 1 0x68 0x06 0xb0
msleep 200; i2cset -f -y 1 0x68 0x08 0x60
msleep 200; i2cset -f -y 1 0x68 0x07 0xec
msleep 200; i2cset -f -y 1 0x68 0x10 0x74
msleep 200; i2cset -f -y 1 0x68 0x11 0x82
msleep 200; i2cset -f -y 1 0x68 0x12 0x82
msleep 200; i2cset -f -y 1 0x76 0x01 0x33
msleep 200; i2cset -f -y 1 0x76 0x03 0xc5
msleep 200; i2cset -f -y 1 0x76 0x0d 0x55
msleep 200; i2cset -f -y 1 0x76 0x11 0x82
msleep 200; i2cset -f -y 1 0x76 0x12 0x82

echo "Configuration in progress for CAM4... "
msleep 200; i2cset -f -y 1 0x26 0xfb 0xff
msleep 200; i2cset -f -y 1 0x21 0x01 0x00
msleep 200; i2cset -f -y 1 0x21 0x0d 0x00
msleep 200; i2cset -f -y 1 0x21 0x13 0x63
msleep 200; i2cset -f -y 1 0x21 0x13 0xeb
msleep 200; i2cset -f -y 1 0x6c 0x01 0x04
msleep 200; i2cset -f -y 1 0x6c 0x03 0xec
msleep 200; i2cset -f -y 1 0x6c 0x06 0xb0
msleep 200; i2cset -f -y 1 0x6c 0x08 0x60
msleep 200; i2cset -f -y 1 0x6c 0x07 0xee
msleep 200; i2cset -f -y 1 0x6c 0x10 0x76
msleep 200; i2cset -f -y 1 0x6c 0x11 0x82
msleep 200; i2cset -f -y 1 0x6c 0x12 0x82
msleep 200; i2cset -f -y 1 0x77 0x01 0x33
msleep 200; i2cset -f -y 1 0x77 0x03 0xc5
msleep 200; i2cset -f -y 1 0x77 0x0d 0x55
msleep 200; i2cset -f -y 1 0x77 0x11 0x82
msleep 200; i2cset -f -y 1 0x77 0x12 0x82
echo "Configuration done"

